# Mental Health App

## Description
This is a React application designed to help users manage and get advice on their mental health. The application allows users to write entries in a journal and receive responses generated by ChatGPT to provide guidance and helpful activities. **Note:** It's always recommended to consult with a mental health professional.

## Features
- **Journal Entry**: Users can add messages to their journal.
- **Response Generation**: The application uses the OpenAI API to generate helpful responses and activities for journal entries.
- **Search and Sort**: Users can search and sort their journal messages.

## Requirements
- Node.js 
- Vite
- OpenAI account with an API key

## Installation

1. Clone this repository:
    ```sh
    git clone https://github.com/Leodav1/mental.git
    cd mental
    ```

2. Install dependencies:
    ```sh
    npm install
    ```

3. Set up your OpenAI API key in a `.env` file at the root of the project:
    ```sh
    VITE_OPENAI_API_KEY=your_api_key_here
    ```

4. Start the application in development mode:
    ```sh
    npm run dev
    ```

## Project Structure
```sh
mental-health-app/
├── public/
│   └── index.html
├── src/
│   ├── components/
│   │   ├── JournalList.jsx
│   │   ├── JournalListItem.jsx
│   │   ├── MessageInput.jsx
│   │   ├── SearchAndSort.jsx
│   ├── hooks/
│   │   └── api/
│   │       └── getAssistantAdvice.js
│   ├── pages/
│   │   └── Journal.jsx
│   ├── App.jsx
│   ├── index.css
│   ├── main.jsx
├── .eslintrc.cjs
├── .gitignore
├── package.json
├── postcss.config.js
├── tailwind.config.js
└── vite.config.js
```

## Usage

### JournalList.jsx
This component renders a list of journal entries. Each entry can send a request to the OpenAI API to get a response.

```jsx
import useGetAssistantAdvice from '../hooks/api/getAssistantAdvice';
import { JournalListItem } from './JournalListItem';

function JournalList({ journalMessages, setJournalMessages }) {
  const apiKey = import.meta.env.VITE_OPENAI_API_KEY;
  const { handleSendToChatGPT, isLoading, error } = useGetAssistantAdvice(apiKey);

  return (
    <div>
      {error && <div className="error-message">{error}</div>}
      {isLoading && <div className="loading-message">Loading...</div>}

      {journalMessages.map((message) => (
        <JournalListItem
          key={message.id}
          message={message}
          journalMessages={journalMessages}
          setJournalMessages={setJournalMessages}
          handleSendToChatGPT={() => handleSendToChatGPT(message, journalMessages, setJournalMessages)}
        />
      ))}
    </div>
  );
}

export default JournalList;
```

### JournalListItem.jsx
This component renders an individual journal entry and handles the request to get a response from ChatGPT.

```jsx
export const JournalListItem = ({ message, handleSendToChatGPT }) => {
  return (
    <div key={message.id} className="border p-2 mb-2 rounded">
      <p>{message.content}</p>
      <small>{new Date(message.date).toLocaleString()}</small>
      {message.response ? (
        <div className="mt-2 p-2 bg-gray-100 rounded">
          <p>{message.response}</p>
        </div>
      ) : (
        <div className="w-full flex justify-center">
        <button
          onClick={handleSendToChatGPT}
          className="mt-2 p-2 bg-green-500 text-white rounded"
        >
          Get an Opinion
        </button>
        </div>
      )}
    </div>
  );
}
```

### MessageInput.jsx
Component to add new messages to the journal.

```jsx
import { memo, useState } from 'react';

function MessageInput({ addMessage }) {
  const [message, setMessage] = useState('');

  const handleSubmit = (e) => {
    e.preventDefault();
    if (message.trim()) {
      addMessage(message);
      setMessage('');
    }
  };

  return (
    <form onSubmit={handleSubmit} className="mb-4">
      <textarea
        value={message}
        onChange={(e) => setMessage(e.target.value)}
        className="w-full p-2 border border-gray-300 rounded"
        placeholder="Write your message here..."
      ></textarea>
      <div className="w-full flex justify-center">
      <button type="submit" className="mt-2 p-2 bg-blue-500 text-white rounded">
        Add Message
      </button>
      </div>
    </form>
  );
}

const MemoizedMessageInput = memo(MessageInput);
export default MemoizedMessageInput;
```

### SearchAndSort.jsx
Component for searching and sorting journal messages.

```jsx
function SearchAndSort({ searchTerm, setSearchTerm, sortOrder, setSortOrder }) {
  return (
    <div className="mb-4">
      <input
        type="text"
        placeholder="Search..."
        value={searchTerm}
        onChange={(e) => setSearchTerm(e.target.value)}
        className="p-2 border border-gray-300 rounded w-full"
      />
      <div className="mt-2">
      <div className="w-full flex justify-center">
        <button
          onClick={() => setSortOrder('asc')}
          className={`p-2 mr-2 ${sortOrder === 'asc' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}
        >
          Ascending Dates
        </button>
        <button
          onClick={() => setSortOrder('desc')}
          className={`p-2 ${sortOrder === 'desc' ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}
        >
          Descending Dates
        </button>
        </div>
      </div>
    </div>
  );
}

export default SearchAndSort;
```

## Customization
You can customize the style of the application by modifying the CSS files in the `src/` folder and adjusting the Tailwind CSS configuration in `tailwind.config.js`.

## Contributions
Contributions are welcome. You can fork the project and submit a pull request with your improvements.


![app](https://github.com/Leodav1/mental/assets/152214934/4d720874-b01b-4ff0-8c1b-d201fdb84b3a)





